# 迷你实验室：添加 Azure 角色分配 

## 前提条件

要添加或删除角色分配，你必须具有：

* ```Microsoft.Authorization/roleAssignments/write``` 和 ```Microsoft.Authorization/roleAssignments/delete``` 权限，例如用户访问管理员**或所有者**。


**“访问控制(IAM)”** 边栏选项卡用于分配角色以授予对 Azure 资源的访问权限。它也称为标识和访问管理，出现在 Azure 门户中的多个位置。以下显示了订阅的访问控制 (IAM) 边栏选项卡示例。

![订阅的访问控制 (IAM) 边栏选项卡](../../Linked_Image_Files/demo_RBAC_image1.png)

为了最有效地使用访问控制 (IAM) 边栏选项卡，在尝试分配角色时，如果可以回答以下三个问题，会很有帮助：

**1. 谁需要访问权限？**

谁引用用户、组、服务主体或托管标识这也称*为安全主体*。

**2. 他们需要什么角色？**

权限分组为角色。你可以从几个[内置角色列表中选择，也可以使用自己的自定义角色。

**3. 他们在何处需要访问权限？**

“在何处”是指访问权限适用的资源集。它可以是管理组、订阅、资源组或单个资源（例如存储帐户）。这称为 *“范围”*。

## 添加角色分配

在 Azure RBAC 中，要授予对 Azure 资源的访问权限，请添加角色分配。请按照以下步骤分配角色。

1. 在 Azure 门户中，单击 **“所有服务”**，然后选择你要授予访问权限的作用域。 

2. 单击该作用域的特定资源。

3. 选择 **“访问控制 (IAM)”**。

4. 单击 **“角色分配”** 选项卡，查看此作用域中的角色分配。

![“访问控制 (IAM)”和“角色分配”选项卡](../../Linked_Image_Files/demo_RBAC_image2.png)

5. 单击 **“添加”** >  **“添加角色分配”**

如果你没有分配角色的权限，则 **“添加角色分配”** 选项将被禁用。

![添加菜单](../../Linked_Image_Files/demo_RBAC_image3.png)

**“添加角色分配”** 窗格打开。

![“添加角色分配”窗格](../../Linked_Image_Files/demo_RBAC_image4.png)

6. 在 **“角色”** 下拉列表中，选择一个角色，例如 **“虚拟机参与者”**。

7. 在 **“选择”** 列表中，选择一个用户、组、服务主体或托管标识。如果在列表中没有找到安全主体，则可以在 **“选择”** 框键入，然后在目录中搜索显示名称、电子邮件地址和对象标识符。

8. 单击 **“保存”** 以分配角色。

片刻之后，将在所选作用域为安全主体分配角色。

![“添加角色分配”已保存](../../Linked_Image_Files/demo_RBAC_image5.png)

 
